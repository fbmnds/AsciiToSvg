{"name":"Asciitosvg","tagline":"A library for converting ASCII text files into SVG graphics","body":"AsciiToSvg\r\n==========\r\n\r\nA library for converting ASCII text files into SVG graphics\r\n\r\n## What is it?\r\n\r\nAsciiToSvg is a library intended to support authoring arbitrary content in plain text format. \r\nThe inspiration of the approach was influenced by the workflow description \r\nof the project documentation process in the [ZeroMQ Guide][2].\r\n\r\nThe ZeroMQ project team  is using an  [interesting tool set][3] to convert plain ASCII text input \r\ninto SVG vector graphics consisting of a Perl wrapper script for a PHP port of a C Parser/Lexer based package. \r\nInterestingly, the sourcecode comments contain a hint, that parts of this software is current use of the SQlite project, but I did not check this.\r\n\r\nAsciiToSvg is a F# implementation that serves the same purpose as this Perl/PHP/C tool.\r\nIt is potentially a nifty enhancement for the [FSharp.Formatting][14] tool.\r\n\r\n## Why another implementation?\r\n\r\nThe existing implementation comes with nice examples, especially the logo:\r\n\r\n![OriginalAsciiToSvgLogo](https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg.Tests/TestPngFiles/OriginalAsciiToSvgLogo.png?raw=true)\r\n\r\nThe current version of the the F# implementation does not yet support color and shading options but this is work in progress.\r\n\r\nWhile the existing tool serves serious doumentation purposes, it failed to render the first example that I tried.\r\nThe tool actually bailed out with an Out-of-Memory exception on this input:\r\n\r\n``` text\r\nprinting.el version 6.9.3    ps-print.el version 7.3.5\r\n\r\n\r\nMenu Layout\r\n-----------\r\n\r\nThe `printing' menu (Tools/Printing or File/Print) has the following layout:\r\n\r\n       +-----------------------------+\r\nA   0  |   Printing Interface        |\r\n       +-----------------------------+       +-A---------+     +-B------+\r\nI   1  |   PostScript Preview       >|-------|Directory >|-----|1-up    |\r\n    2  |   PostScript Print         >|---- A |Buffer    >|-- B |2-up    |\r\n    3  |   PostScript Printer: name >|---- C |Region    >|-- B |4-up    |\r\n       +-----------------------------+       |Mode      >|-- B |Other...|\r\nII  4  |   Printify                 >|-----\\ |File      >|--\\  +--------+\r\n    5  |   Print                    >|---\\ | |Despool... |  |\r\n    6  |   Text Printer: name       >|-\\ | | +-----------+  |\r\n       +-----------------------------+ | | | +---------+   +------------+\r\nIII 7  |[ ]Landscape                 | | | \\-|Directory|   | No Prep... | Ia\r\n    8  |[ ]Print Header              | | |   |Buffer   |   +------------+ Ib\r\n    9  |[ ]Print Header Frame        | | |   |Region   |   |   name    >|- C\r\n    10 |[ ]Line Number               | | |   +---------+   +------------+\r\n    11 |[ ]Zebra Stripes             | | |   +---------+   |   1-up...  | Ic\r\n    12 |[ ]Duplex                    | | \\---|Directory|   |   2-up...  |\r\n    13 |[ ]Tumble                    | \\--\\  |Buffer   |   |   4-up...  |\r\n    14 |[ ]Upside-Down               |    |  |Region   |   |   Other... |\r\n    15 |   Print All Pages          >|--\\ |  |Mode     |   +------------+\r\n       +-----------------------------+  | |  +---------+   |[ ]Landscape| Id\r\nIV  16 |[ ]Spool Buffer              |  | |  +-C-------+   |[ ]Duplex   | Ie\r\n    17 |[ ]Print with faces          |  | \\--|( )name A|   |[ ]Tumble   | If\r\n    18 |[ ]Print via Ghostscript     |  |    |( )name B|   +------------+\r\n       +-----------------------------+  |    |...      |\r\nV   19 |[ ]Auto Region               |  |    |(*)name  |\r\n    20 |[ ]Auto Mode                 |  |    |...      |\r\n    21 |[ ]Menu Lock                 |  |    +---------+   +--------------+\r\n       +-----------------------------+  \\------------------|(*)All Pages  |\r\nVI  22 |   Customize                >|--- D  +-D------+    |( )Even Pages |\r\n    23 |   Show Settings            >|-------|printing|    |( )Odd Pages  |\r\n    24 |   Help                      |       |ps-print|    |( )Even Sheets|\r\n       +-----------------------------+       |lpr     |    |( )Odd Sheets |\r\n                                             +--------+    +--------------+\r\n\r\n```\r\n\r\nI seriously doubt that this can be fixed the Perl/PHP/C code base with reasonable effort.\r\nThe F# implementation however produces an acceptable outcome on this example:\r\n\r\n![EmacsPrintHelp](https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg.Tests/TestPngFiles/EmacsPrintHelp.png?raw=true)\r\n\r\n## How does it work?\r\n\r\nAsciiToSvg is conceptionally different from the forementioned implementation. \r\nA good entry point for examining the differences is the \r\n[pattern identification][4] in combination with the [line identification][5] in F#\r\nin contrast to the [multi-step parsing][6] with its ['generic, recursive line walker'][7] \r\nthat needs to be supported by a [follow wall algorithm][8].\r\n\r\nAsciiToSvg is based on the notion of 'glyphs', i.e. symbols consisting of ASCII letter combinations, that are \r\ninterpreted and rendered as SVG graphic elements like ['text'][9], \r\n['line'][10] and ['polygon'][11].\r\n\r\nThe concept includes the possibility to annotate SVG options to the ASCII input text for the rendering process. \r\nIt resembles the idea as applied for generating the logo ([input][12], \r\n[svg][13]).\r\n\r\nThe steps to generate a SVG graphic with the new F# tool are:\r\n\r\n* read the ASCII text file into memory and separate the picture part from the options part\r\n* make a trimmed grid, i.e. remove trailing spces and blank lines (important for proper scaling of the graphic)\r\n* set consistent SVG options (scaling, text font)\r\n* scan the ASCII input\r\n* render the glyphs\r\n* scan the text, use tabbed text scan option for proper positioning\r\n* render the text\r\n* scan the lines\r\n* render the lines\r\n* produce the SVG graphic\r\n\r\nThe [`EmacsPrintHelp.fsx`][15] script file demonstrates how to put everything together. \r\n\r\n## Why using AsciiToSvg instead of Graphiz, InkScape, ...?\r\n\r\nIt applies the same rationale why one would like to use Markdown instead of Microsoft Word, TeX/LaTeX, and alike.\r\nIt boils down to trading ease in workflow using automation capabilities versus feature richness and UI experience of the alternatives.\r\n\r\nIt also depends on your own personal attitude towards the outdated 70-ish retro look of ASCII graphics and the support of your editor of choice to draw them.\r\nThe library should therefore play well with Emacs/Org-Mode and Vim, but will provide significantly less fun in Visual Studio or Xcode.\r\n\r\n## What are the caveats?\r\n\r\nThe library does not contain an abstration for SVG documents. For a feature set on par with the Perl/PHP/C implementation, this is also not necessary.\r\n\r\nAs mentioned above, the library does not yet provide the option mechanism that the original tool uses for annotating color and shading information.\r\n\r\nGithub does not support SVG redering in markup text for security reasons. There are some work arounds by using 3rd party websites mentioned on [SO][16]. \r\nThis enforces however the need for another backend in order to convert the SVG format, for example into PNG, which compromises the ease of processing.\r\n\r\nDrawing slanted lines and circle/ellipses is a challenge fo ASCII based graphics because of the limited resolution and the disproportion of width and height of ASCII characters. \r\nHence, the F# logo is for example not a good candidate for this tool. It should however be fairly easy to inject arbitrary SVG shapes \r\nvia some include directive into the forementioned option mechanism.\r\n\r\nThe sourcecode is undocumented and documentation other than this Readme file is an open issue that will be eventually closed. \r\nThe ZeroMQ Guide provides a [guideline][17] on ASCII graphics that applies here as well to a some greater extent.\r\n\r\n## Are there further examples?\r\n\r\nFor regression testing, the library comes with some examples that cover the current feature set. It is however not a fancy gallery.\r\n\r\nA basic example is given by the following ASCII input file:\r\n\r\n    [lang=text]\r\n    +---------+-----------+------------------+------------------+\r\n    | ArrowUp | ArrowDown | ArrowLeftToRight | ArrowRightToLeft |\r\n    +---------+-----------+------------------+------------------+\r\n    |  ^   ^  |    |   +  |        ->        |        <-        |\r\n    |  |   +  |    v   v  |        +>        |        <+        |\r\n    +---------+-----------+------------------+------------------+ \r\n\r\nThe resulting SVG file looks like this:\r\n\r\n![ArrowGlyphsWithFrame](https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg.Tests/TestPngFiles/ArrowGlyphsWithFrame.png?raw=true)\r\n\r\nThe usage of polygon shapes, which is a big challenge for the Perl/PHP/C implementation, looks like this:\r\n\r\n``` text\r\n                |\r\n                v\r\n             -<-+------+\r\n                |      |\r\n   +            |      |\r\n   +------------+---++-+\r\n   |                ||\r\n   |                ++\r\n   |                ||\r\n   |                ||\r\n   +----------------++\r\n                    ++\r\n```\r\n\r\nThis input renders to:\r\n\r\n![TestPolygonBox](https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg.Tests/TestPngFiles/TestPolygonBox.png?raw=true)\r\n\r\n                    \r\n## Library license\r\n\r\nThe library is available under Apache 2.0. For more information see the [License file][1] in the GitHub repository\r\n\r\n [1]: https://github.com/fbmnds/a2svg/blob/master/LICENSE\r\n [2]: http://zguide.zeromq.org/page:all#Removing-Friction\r\n [3]: https://github.com/imatix/zguide/tree/master/bin/asciitosvg\r\n [4]: https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg/GlyphScanner.fs\r\n [5]: https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg/LineScanner.fs\r\n [6]: https://github.com/imatix/zguide/blob/master/bin/asciitosvg/ASCIIToSVG.php#L1323\r\n [7]: https://github.com/imatix/zguide/blob/master/bin/asciitosvg/ASCIIToSVG.php#L1926\r\n [8]: https://github.com/imatix/zguide/blob/master/bin/asciitosvg/ASCIIToSVG.php#L2043\r\n [9]: http://www.w3.org/TR/SVG/text.html#TextElement\r\n [10]: http://www.w3.org/TR/SVG/shapes.html#LineElement\r\n [11]: http://www.w3.org/TR/SVG/shapes.html#PolygonElement\r\n [12]: https://github.com/imatix/zguide/blob/master/bin/asciitosvg/logo.txt\r\n [13]: https://github.com/imatix/zguide/blob/master/bin/asciitosvg/logo.svg\r\n [14]: https://github.com/tpetricek/FSharp.Formatting\r\n [15]: https://github.com/fbmnds/AsciiToSvg/blob/master/AsciiToSvg/AsciiToSvg.Tests/EmacsPrintHelp.fsx\r\n [16]: http://stackoverflow.com/questions/13808020/include-an-svg-hosted-on-github-in-markdown\r\n [17]: https://github.com/imatix/zguide/tree/master/bin/asciitosvg","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}